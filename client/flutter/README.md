# Flutter Feed

The news feed GUI implemented in Flutter.

## Deving Locally

I am deving on an Ubuntu laptop with no Android SDK installed. Make sure that gui is set to true in server/helm/values.yaml

```bash
export CHROME_EXECUTABLE=$(whereis chromium | awk '{ print $2 }')
flutter test --no-sound-null-safety
cd ../../server/helm
helm install feed .
# wait until all pods are ready
kubectl port-forward deployment/react 8080:8080 &
cd ../../client/flutter
flutter run -d chrome --release --no-sound-null-safety
```

The app never loads when Chrome launches. Right now, I have to manually open a new tab with the same address in order to load the application in the browser. You can point your web browser to http://127.0.0.1:8080 and use the React client as the other participant to friend with.

## Deving in Kubernetes

I currently dev using [Kubernetes in Docker](https://kind.sigs.k8s.io/) which explains the kind command. You won't need that command if you are using something else.

After running this code, point your web browser to http://127.0.0.1:8080 in order to load the Flutter web client. The React client won't be available but you can port forward then curl call API requests directly to the feed service in order to simulate another participant to friend with.

```bash
export CHROME_EXECUTABLE=$(whereis chromium | awk '{ print $2 }')
flutter test --no-sound-null-safety
flutter build web --no-sound-null-safety
docker build -t flutter:1.0 .
kind load docker-image flutter:1.0 
cd ../../server/helm
helm install feed .
# wait until all pods are ready
kubectl port-forward deployment/feed 8081:8080 &
kubectl port-forward deployment/flutter 8080:8080 &
curl -H "Content-Type: application/json" -d '{"name":"other participant"}' http://localhost:8081/participant
curl -H "Content-Type: application/json" -d '{"from":"/participant/1","subject":"testing flutter","story":"search for this in order to test friending"}' http://localhost:8081/participant/1/outbound
```

## More Resources

This was included in the README generated by the flutter create command:

- [Lab: Write your first Flutter app](https://flutter.dev/docs/get-started/codelab)
- [Cookbook: Useful Flutter samples](https://flutter.dev/docs/cookbook)

For help getting started with Flutter, view our
[online documentation](https://flutter.dev/docs), which offers tutorials,
samples, guidance on mobile development, and a full API reference.
